# ğŸ“ Manual Sourcify Verification Guide

## âœ… Files Already Prepared!

All verification files have been extracted to: **`sourcify-verification/`**

```
sourcify-verification/
â”œâ”€â”€ BMCPMessageReceiver/
â”‚   â”œâ”€â”€ metadata.json          â† Upload this
â”‚   â”œâ”€â”€ BMCPMessageReceiver.sol â† Upload this
â”‚   â”œâ”€â”€ abi.json
â”‚   â”œâ”€â”€ contract.json
â”‚   â””â”€â”€ info.txt              â† Read this for details
â”œâ”€â”€ ExampleTargetContract/
â”‚   â”œâ”€â”€ metadata.json          â† Upload this
â”‚   â”œâ”€â”€ ExampleTargetContract.sol â† Upload this
â”‚   â”œâ”€â”€ abi.json
â”‚   â”œâ”€â”€ contract.json
â”‚   â””â”€â”€ info.txt
â””â”€â”€ SchnorrVerifyCaller/
    â”œâ”€â”€ metadata.json          â† Upload this
    â”œâ”€â”€ SchnorrVerifyCaller.sol â† Upload this
    â”œâ”€â”€ abi.json
    â”œâ”€â”€ contract.json
    â””â”€â”€ info.txt
```

---

## ğŸŒ Manual Verification - Step by Step

### Method 1: Sourcify Web Interface (Easiest)

#### Step 1: Visit Sourcify Verifier
Go to: **https://sourcify.dev/#/verifier**

#### Step 2: Choose "Server-side" Verification

#### Step 3: Fill in the Form

For **BMCPMessageReceiver**:
```
Contract Address: 0xDeD3f4058Ccdf3C05Bc7f7c38cb07E66A6023893
Chain: Custom (5115)
Chain ID: 5115
RPC URL: https://rpc.testnet.citrea.xyz
```

#### Step 4: Upload Files
- Click **"Choose Files"**
- Upload from `sourcify-verification/BMCPMessageReceiver/`:
  - âœ… `metadata.json` (REQUIRED)
  - âœ… `BMCPMessageReceiver.sol` (REQUIRED)

#### Step 5: Click "Verify"
- Sourcify will process the files
- Should return: "Contract verified successfully"

#### Repeat for Other Contracts
- **ExampleTargetContract**: `0x2314dfD079C2b2cf2C3247fCd552d9d52Ac486De`
- **SchnorrVerifyCaller**: `0x54AAc9DE386C8185Fe8842456E55d7bF17b1f8aB`

---

## ğŸ“‹ What Each File Contains

### 1. metadata.json
This is the **most important file** for verification. It contains:
- Compiler version (0.8.19)
- Optimization settings (200 runs)
- Source code (embedded)
- ABI
- All compiler settings used

**This is auto-generated by Foundry during compilation.**

### 2. Contract.sol Files
Your actual Solidity source code:
- `BMCPMessageReceiver.sol`
- `ExampleTargetContract.sol`
- `SchnorrVerifyCaller.sol`

### 3. info.txt
Quick reference with:
- Contract address
- Chain ID
- Compiler version
- Constructor arguments (if any)

---

## ğŸ¯ Quick Verification Info

### BMCPMessageReceiver
```
Address:          0xDeD3f4058Ccdf3C05Bc7f7c38cb07E66A6023893
Constructor Args: 0x2cac89ABf06DbE5d3a059517053B7144074e1CE5
Files:            metadata.json + BMCPMessageReceiver.sol
```

### ExampleTargetContract
```
Address:          0x2314dfD079C2b2cf2C3247fCd552d9d52Ac486De
Constructor Args: None
Files:            metadata.json + ExampleTargetContract.sol
```

### SchnorrVerifyCaller
```
Address:          0x54AAc9DE386C8185Fe8842456E55d7bF17b1f8aB
Constructor Args: None
Files:            metadata.json + SchnorrVerifyCaller.sol
```

**Chain ID**: 5115 (Citrea Testnet)  
**RPC**: https://rpc.testnet.citrea.xyz

---

## ğŸ“¦ Method 2: Using Sourcify API (Advanced)

If you want to verify via API:

```bash
# Example for BMCPMessageReceiver
curl -X POST "https://sourcify.dev/server/verify" \
  -F "address=0xDeD3f4058Ccdf3C05Bc7f7c38cb07E66A6023893" \
  -F "chain=5115" \
  -F "files[]=@sourcify-verification/BMCPMessageReceiver/metadata.json" \
  -F "files[]=@sourcify-verification/BMCPMessageReceiver/BMCPMessageReceiver.sol"
```

Response should be:
```json
{
  "result": [{
    "address": "0xDeD3f4058Ccdf3C05Bc7f7c38cb07E66A6023893",
    "status": "perfect"
  }]
}
```

---

## ğŸ“¦ Method 3: Using Standard JSON Input

Sourcify also accepts Solidity's standard JSON input format. Let me create those too:

<function_calls>
<invoke name="run_terminal_cmd">
<parameter name="command">cd /Users/btc/BMCP/packages/citrea-schnorr-contracts && forge inspect BMCPMessageReceiver metadata --pretty | head -80
